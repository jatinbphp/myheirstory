<!--<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
	  		<ion-back-button></ion-back-button>
		</ion-buttons>
		<ion-title>Help Building Your Family Tree</ion-title>
	</ion-toolbar>
</ion-header>-->
<ion-content class="bg-transparant">
	<ion-card class="welcome-card">
		<ion-card-header class="ion-no-padding">
			<ion-card-subtitle>Help Building Your Family Tree</ion-card-subtitle>
			<ion-card-title>Search</ion-card-title>
		</ion-card-header>
	  <ion-card-content>	  			
	    <form [formGroup]="searchFamilyTreeForm" (ngSubmit)="search_heirstorian(searchFamilyTreeForm.value)">
		<div class="ion-list">
			<ion-item lines="none">
				<ion-label position="floating" floating>Where is your family from?</ion-label>
				<ion-select multiple="true" formControlName="states">
					<ion-select-option *ngFor="let states of config_states | keyvalue" 
					value="{{states.key}}">{{states.value}}</ion-select-option>
				</ion-select>
			</ion-item>
			<!--VALIDATION-->
			<div class="validation-errors">
				<ng-container *ngFor="let validation of validation_messages.states">
					<div class="error-message" *ngIf="searchFamilyTreeForm.get('states').hasError(validation.type) && (searchFamilyTreeForm.get('states').dirty || searchFamilyTreeForm.get('states').touched)">
					<ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
					</div>
				</ng-container>
			</div>
			<!--VALIDATION-->		
			<ion-item lines="none">
				<ion-label position="floating" floating>What time period would you like researched?</ion-label>
    			<ion-select multiple="true" formControlName="time_period">
					<ion-select-option *ngFor="let time_period of config_time_period | keyvalue" 
					value="{{time_period.key}}">{{time_period.value}}</ion-select-option>
				</ion-select>
			</ion-item>
			<!--VALIDATION-->
			<div class="validation-errors">
				<ng-container *ngFor="let validation of validation_messages.time_period">
					<div class="error-message" *ngIf="searchFamilyTreeForm.get('time_period').hasError(validation.type) && (searchFamilyTreeForm.get('time_period').dirty || searchFamilyTreeForm.get('time_period').touched)">
					<ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
					</div>
				</ng-container>
			</div>
			<!--VALIDATION-->
			<ion-item lines="none">
				<ion-label position="floating" floating>What is your budget?</ion-label>
				<ion-select formControlName="rate">
					<ion-select-option *ngFor="let hr_options of config_rate_hourly_options | keyvalue" 
					value="{{hr_options.key}}">{{hr_options.value}}</ion-select-option>
				</ion-select>
			</ion-item>								
			<ion-button type="submit" class="login-btn" expand="block" [disabled]="!searchFamilyTreeForm.valid">Search</ion-button>				      
		</div>
	    </form>	    
	  </ion-card-content>
	</ion-card>	
</ion-content>
